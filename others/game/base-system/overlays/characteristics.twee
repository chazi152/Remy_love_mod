:: Characteristics [widget]

<<widget "characteristics">>
	<br>
	你是
	<<if $wolfgirl gte 6 or $cat gte 6 or $cow gte 6 or $harpy gte 6 or $fox gte 6>>
		<<if $angel gte 6>>
			一个圣洁的
		<<elseif $fallenangel gte 2>>
			一个堕落的
		<<elseif $demon gte 6>>
			一个恶魔化的
		<<else>>
			一个
		<</if>>
		<<if $wolfgirl gte 6 and ($demon gte 6 or $fallenangel gte 2)>>
			地狱猎犬
		<<elseif $wolfgirl gte 6 and $angel gte 6>>
			狗
		<<elseif $wolfgirl gte 6>>
			狼
		<<elseif $cat gte 6>>
			猫
		<<elseif $cow gte 6>>
			<<if $player.gender_appearance is "m">>
				牛
			<<else>>
				奶牛
			<</if>>
		<<elseif $harpy gte 6>>
			<<if $hallucinations gte 2 or $bestialitydisable is "t">>
				哈比
			<<else>>
				鸟
			<</if>>
		<<elseif $fox gte 6>>
			狐狸
		<</if>>
	<<else>>
		<<if $angel gte 6>>
			一个天使
		<<elseif $fallenangel gte 2>>
			一个堕天使
		<<elseif $demon gte 6>>
			一个恶魔
		<<else>>
			一名
		<</if>>
	<</if>>
	<<if $NudeGenderDC gte 0>>
		<<gender>>.
	<<else>>
		<<gender_posture>>.
	<</if>>
	<br><br>

	<<switch $bodysize>>
		<<case 0>>跟其他人比起来，你称得上是娇小了。
		<<case 1>>与其他人相比，你显得很矮。
		<<case 2>>你有着中等的身高。
		<<case 3>>与其他人相比，你显得很高。
	<</switch>>

	<!-- Eye details -->
	<<print window.buildEyeDetails()>>
	<!-- -->

	你有着<<skincolourtext>>
	<<if $player.breastsize gte 1>>
		<<if $player.breastsize is $player.perceived_breastsize>>
			你有着一对<<breasts>>。
		<<else>>
			你有着一对<<breasts>>，但你的衣服
			<<if $player.perceived_breastsize is 0>>
				将其完全隐藏，使你看上去像个平胸。
			<<elseif $player.perceived_breastsize lt $player.breastsize>>
				有遮挡效果，使你看上去拥有<<breastsizedesc $player.perceived_breastsize>>的胸部。
			<<else>> /*if $player.perceived_breastsize gt $player.breastsize*/
				有丰胸效果，使你看上去拥有<<breastsizedesc $player.perceived_breastsize>>的胸部。
			<</if>>
		<</if>>
	<<elseif $player.breastsize is 0 and $player.perceived_breastsize gte 1>>
		你是个平胸，但你的衣服有丰胸效果，使你看上去拥有<<breastsizedesc $player.perceived_breastsize>>的胸部。
	<</if>>
	你有一个<<bottom true>>。
	<<if $player.penisExist and $player.vaginaExist>>
		<<silently>>
		<<penis>><<set _penis to _text_output>>
		<<pussy true true>><<set _pussy to _text_output>>
		<</silently>>
		你有<<a _penis>>和<<a _pussy>>。
	<<else>>
		你拥有
		<<if $player.penisExist>>
			<<silently>><<penis>><<set _penis to _text_output>><</silently>>
			<<a _penis>>.
		<</if>>
		<<if $player.vaginaExist>>
			<<silently>><<pussy false true>><<set _pussy to _text_output>><</silently>>
			<<a _pussy>>.
		<</if>>
	<</if>>

	<!--Hair Details-->
	<<set _hairTextConfig = { currentValue : $hairlength, states : [
			{ requiredValue: 0,		color: '',	preText: '你有一头',									description: '<<haircolourtext>>', postText: '短发 。' },
			{ requiredValue: 100,	color: '',	preText: '你的',				description: '<<haircolourtext>>', postText: '头发自然垂下时，能够到你的下巴, <<fringedescription>>' },
			{ requiredValue: 200,	color: '',	preText: '你的',				description: '<<haircolourtext>>', postText: '头发自然垂下时，能够到你的肩膀, <<fringedescription>>' },
			{ requiredValue: 300,	color: '',	preText: '你的',				description: '<<haircolourtext>>', postText: '长发自然垂下时，能垂到你的胸口上方，<<fringedescription>>' },
			{ requiredValue: 400,	color: '',	preText: '你的',			description: '<<haircolourtext>>', postText: '长发自然垂下时，能垂到你的胸口，<<fringedescription>>' },
			{ requiredValue: 500,	color: '',	preText: '你的',			description: '<<haircolourtext>>', postText: '长发自然垂下时，能垂到你的腹部上方，<<fringedescription>>' },
			{ requiredValue: 600,	color: '',	preText: '你的',			description: '<<haircolourtext>>', postText: '长发自然垂下时，能垂到你的肚脐，<<fringedescription>>' },
			{ requiredValue: 700,	color: '',	preText: '你的',		description: '<<haircolourtext>>', postText: '特长发自然垂下时，能垂到你的大腿<<fringedescription>>' },
			{ requiredValue: 800,	color: '',	preText: '你的',		description: '<<haircolourtext>>', postText: '特长发自然垂下时，能垂到你的膝盖<<fringedescription>>' },
			{ requiredValue: 900,	color: '',	preText: '你的',	description: '<<haircolourtext>>', postText: '超长发自然垂下时已经够到脚踝了，<<fringedescription>>' },
			{ requiredValue: 1000, color: '', preText: '你的', description: '<<haircolourtext>>', postText: '头发已经长到走路时会踩到的程度了，<<fringedescription>>' }
		]
	}>>
	<<characteristic-text _hairTextConfig>>
	<br><br>

	<!--Pregnancy Details-->
	<<set $_pregnancy to getPregnancyObject()>>
	<<set $_menstruation to $sexStats.vagina.menstruation>>
	<<set $_pills to $sexStats.pills>>
	<<set $_knowsTheyCanBecomePregnant to ($playerPregnancyHumanDisable is "f" or $playerPregnancyBeastDisable is "f") and playerAwareTheyCanBePregnant()>>
	<<set $_heatArousal to playerHeatMinArousal()>>
	<<set $_rutArousal to playerRutMinArousal()>>
	<<set $_heatRutDisplay to ($_heatArousal and playerAwareTheyAreInHeat() ? "燥热" : "") + ($_heatArousal and playerAwareTheyAreInHeat() and $_rutArousal ? "并" : "") + ($_rutArousal ? "发情" : "")>>
	<<if $_pregnancy.fetus.length and $_pregnancy.awareOf>>
		<<if $_pregnancy.timer / $_pregnancy.timerEnd lte 0.33>>
			<<set _trimester to "早期">>
		<<elseif $_pregnancy.timer / $_pregnancy.timerEnd lte 0.66>>
			<<set _trimester to "中期">>
		<<else>>
			<<set _trimester to "晚期">>
		<</if>>
		<<if $_pregnancy.awareOfDetails || $_pregnancy.potentialFathers.every((father, index, array) => father.type === array[0].type)>>
			<<if $_pregnancy.awareOfDetails>>
				<<set $_number to $_pregnancy.fetus.length>>
			<<elseif $_pregnancy.awareOfMultiple>>
				<<set $_number to $_pregnancy.fetus.length is 1 ? 1 : "more than one">>
			<<else>>
				<<set $_number to "an unknown number of">>
			<</if>>
			<<switch $_pregnancy.type>>
				<<case "human">>
					<<if $_number isnot "an unknown number of" and $_number isnot "more than one" and $_number gt 1>>
						<<set _childType to "">>
						<<if $_pregnancy.fetus[0].features.identical is true and $_pregnancy.awareOfDetails>>
							<<set _childType += "同卵">>
						<</if>>
						<<set _childType += ($_number is 3 ? "宝宝" : "宝宝")>>
					<<else>>
						<<set _childType to ($_number is 1 || $_number is "more than one" ? "宝宝" : "宝宝")>>
					<</if>>
				<<case "wolf">>
					<<set _childType to ($_number is 1 || $_number is "more than one" ? "狼崽" : "狼崽")>>
			<</switch>>
			你怀上了<<if $_number is "an unknown number of">>未知数量的<<elseif $_number is "more than one">>不止一个<<else>><<number $_number>>个<</if>>_childType，正处于妊娠_trimester。
		<<else>>
			你知道你正处于妊娠_trimester。
		<</if>>
		<<if between($_pregnancy.timer / $_pregnancy.timerEnd, 0.1, 1) and !$daily.ultrasoundDone>>
			<span class="blue">你可以在医院进行B超检查。</span>
		<</if>>
		<<if $_pregnancy.potentialFathers.length is 1>>
			你知道孩子的父亲是<<print pregnancyNameCorrection($_pregnancy.potentialFathers[0].source)>>。
		<<elseif $_pregnancy.potentialFathers.length is 2>>
			你相当肯定，孩子的父亲要么是<<print pregnancyNameCorrection($_pregnancy.potentialFathers[0].source)>>，要么是<<print pregnancyNameCorrection($_pregnancy.potentialFathers[1].source)>>。
		<<elseif $_pregnancy.potentialFathers.length is 3>>
			你相当肯定，孩子的父亲是<<print pregnancyNameCorrection($_pregnancy.potentialFathers[0].source)>>，<<print pregnancyNameCorrection($_pregnancy.potentialFathers[1].source)>>和<<print pregnancyNameCorrection($_pregnancy.potentialFathers[2].source)>>之中的一个。
		<<else>>
			你不确定孩子的父亲是谁。
		<</if>>
		<br><br>
	<<elseif $_knowsTheyCanBecomePregnant and $_pills.pills.contraceptive.doseTaken>>
		<<if $_pills.pills.contraceptive.doseTaken gte 2>>
			你服用了过量的避孕药，你现在不可能怀孕。
		<<else>>
			你服用了避孕药，现在几乎不可能怀孕。
		<</if>>
		<br><br>
	<<elseif $_knowsTheyCanBecomePregnant and (($sciencetrait gte 4 and $awareness gte 200) or $awareness gte 500)>>
		<<set $_risk to playerPregnancyRisk()>>
		<<if $_risk isnot undefined>>
			<<switch $_risk>>
				<<case 6>><<set $_pregnancyRisk to "很安全">><<set $_pregnancyRiskColour to "green">>
				<<case 5>><<set $_pregnancyRisk to "安全">><<set $_pregnancyRiskColour to "teal">>
				<<case 3 4>><<set $_pregnancyRisk to "大概安全">><<set $_pregnancyRiskColour to "lblue">>
				<<case 1 2>><<set $_pregnancyRisk to "有风险">><<set $_pregnancyRiskColour to "pink">>
				<<case 0>><<set $_pregnancyRisk to "危险">><<set $_pregnancyRiskColour to "red">>
			<</switch>>

			<<if $_heatArousal or $_rutArousal>>
				<<if $wolfgirl gte 2 or $cat gte 2 or $cow gte 2 or $fox gte 2>>
					你心中的兽性使你开始<<print $_heatRutDisplay>>。
				<<else>>
					不知什么让你很性奋。
				<</if>>
				在今天性交是<span @class="$_pregnancyRiskColour">$_pregnancyRisk</span>的(怀孕率)。
			<<else>>
				你感觉今天性交是<span @class="$_pregnancyRiskColour">$_pregnancyRisk</span>的(怀孕率)。
			<</if>>
			<br><br>
		<</if>>
	<<elseif $_heatArousal or $_rutArousal>>
		<<if ($wolfgirl gte 2 or $cat gte 2 or $cow gte 2 or $fox gte 2)>>
			你心中的兽性使你开始<<print $_heatRutDisplay>>。
		<<else>>
			不知什么让你很性奋。
		<</if>>
		<br><br>
	<</if>>

	<!--Semen Details-->
	<<if $player.penisExist and $player.penissize gte -1>>
		<<set _semenCapacityTextConfig = { currentValue : $semen_volume, preText: '你', states : [
				{ requiredValue: 0,		color: '',			description: '',				postText: '无法储存精液。' },
				{ requiredValue: 1,		color: 'red',		description: '能储存微量',			postText: '精液，' },
				{ requiredValue: 100,	color: 'pink',		description: '能储存少量',			postText: '精液，' },
				{ requiredValue: 300,	color: 'purple',	description: '能储存有限的',		postText: '精液，' },
				{ requiredValue: 500,	color: 'blue',		description: '能储存一定量的',		postText: '精液，' },
				{ requiredValue: 1000,	color: 'lblue',		description: '能储存大量的',			postText: '精液，' },
				{ requiredValue: 1500,	color: 'teal',		description: '能储存巨量的',			postText: '精液，' },
				{ requiredValue: 2000,	color: 'green',		description: '能储存超巨量的',	postText: '精液，' }
			]
		}>>
		<<set _semenVolumeTextConfig = { currentValue : $semen_amount, states : [
				{ requiredValue: 0,							color: 'red',		preText: "",				description: "但你已经被榨的一滴不剩了。"},
				{ requiredValue: 1,							color: 'pink',		preText: "但存量已经 ", 	description: ' 微乎其微。 '},
				{ requiredValue: ($semen_volume / 7) * 2,	color: 'pink',		preText: "但存量已经 ",	description: '微乎其微。'},
				{ requiredValue: ($semen_volume / 7) * 3,	color: 'purple',	preText: "但存量已经",	description: '所剩无几。'},
				{ requiredValue: ($semen_volume / 7) * 4,	color: 'blue',		preText: "且存量",	description: '接近半满。'},
				{ requiredValue: ($semen_volume / 7) * 5,	color: 'lblue',		preText: "且存量",	description: '还有许多。'},
				{ requiredValue: ($semen_volume / 7) * 6,	color: 'teal',		preText: "且存量",	description: '几乎全满。'},
				{ requiredValue: $semen_volume,				color: 'green',		preText: "积攒的精液",	description: '已经要满溢而出。'}
			]
		}>>
		<<characteristic-text _semenCapacityTextConfig>>
		<<if $semen_volume gt 0>>
			<<characteristic-text _semenVolumeTextConfig>>
			<<if $semen_amount gte $semen_volume>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					由于你的精囊已满，<span class="pink">你的性奋正在促进其容量的增长。</span>
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					由于你的精囊已经满，<span class="purple">你的性奋正在促进其容量的增长。</span>
				<</if>>
			<<else>>
				<<if $arousal gte ($arousalmax / 5) * 4>>
					<span class="pink">你的性奋正在促其恢复。</span>
				<<elseif $arousal gte ($arousalmax / 5) * 3>>
					<span class="purple">你的性奋正在促其恢复。</span>
				<</if>>
			<</if>>
		<</if>>
		<br>
	<</if>>

	<!--Lactation Details-->
	<<if $lactating is 1 and $breastfeedingdisable is "f">>
		<<set _milkCapacityTextConfig = { currentValue : $milk_volume, preText: '你的<<breasts>>分泌着', postText: '母乳, ', states : [
					{ requiredValue: 0,		color: 'red',		description: '微量的'},
					{ requiredValue: 100,	color: 'pink',		description: '少量的'},
					{ requiredValue: 300,	color: 'purple',	description: '有限的'},
					{ requiredValue: 500,	color: 'blue',		description: '相当数量的'},
					{ requiredValue: 1000,	color: 'lblue',		description: '大量的'},
					{ requiredValue: 1500,	color: 'teal',		description: '巨量的'},
					{ requiredValue: 2000,	color: 'green',		description: '超巨量的'}
				]
			}>>
		<<set _milkVolumeTextConfig = { currentValue : $milk_amount, states : [
				{ requiredValue: 0,							color: 'red',		preText: "",				description: "但你已经被榨的一滴不剩了。"},
				{ requiredValue: 1,							color: 'pink',		preText: "但存量已经 ", 	description: ' 微乎其微。'},
				{ requiredValue: ($milk_volume / 7) * 2,	color: 'pink',		preText: "但存量已经 ",	description: ' 微乎其微。'},
				{ requiredValue: ($milk_volume / 7) * 3,	color: 'purple',	preText: "但存量已经",	description: '所剩无几。'},
				{ requiredValue: ($milk_volume / 7) * 4,	color: 'blue',		preText: "且存量",	description: '还剩一半。'},
				{ requiredValue: ($milk_volume / 7) * 5,	color: 'lblue',		preText: "且存量",	description: '还有许多。'},
				{ requiredValue: ($milk_volume / 7) * 6,	color: 'teal',		preText: "且存量",	description: '几乎全满。'},
				{ requiredValue: $milk_volume,				color: 'green',		preText: "积攒的母乳",	description: '已经要满溢而出。'}
			]
		}>>
		<<characteristic-text _milkCapacityTextConfig>>
		<<characteristic-text _milkVolumeTextConfig>>
		<<if $milkFullPain and $milkFullPain gt 200>>
			母乳积攒得太久，正涨的你发痛。
			<<if !$player.inventory.sextoys["breast pump"] and $milkFullPain gt 225>><span class="gold">药房有售的挤奶器应该会有用。</span><</if>>
		<</if>>
		<br>
	<</if>>

	<<set _holeWetnessStates = [
			{ requiredValue: 0,		color: 'green',	description: '十分干燥。',			postText: '难以插入。' },
			{ requiredValue: 15,	color: 'teal',	description: '润滑不足。',	postText: '除了最小号的阴茎都难以插入。' },
			{ requiredValue: 30,	color: 'lblue',	description: '只有些许润滑。',			postText: '绝大多数的阴茎都将很难插入。' },
			{ requiredValue: 45,	color: 'blue',	description: '微湿。',			postText: '部分阴茎将能正常插入。' },
			{ requiredValue: 60,	color: 'purple',description: '湿透了。',			postText: '绝大多数的阴茎都能轻易插入。' },
			{ requiredValue: 75,	color: 'pink',	description: '正不断溢出爱液。',		postText: '除最大号阴茎外都能轻易插入。' },
			{ requiredValue: 90,	color: 'red',	description: '湿的一塌糊涂。',		postText: '即使是最大号的阴茎也能轻易插入。' }
	]>>
	<!--Vagina Wetness-->
	<<if $player.vaginaExist>>
		<<set _vaginaWetnessTextConfig = { currentValue : $vaginaWetness, preText: '你的小穴', states: _holeWetnessStates}>>
		<<characteristic-text _vaginaWetnessTextConfig>>
		<br>
	<</if>>
	<!--Penis Wetness-->
	<<if $player.penisExist>>
		<<set _penisWetnessTextConfig = { currentValue : $penisWetness, preText: '你的阴茎', states: [
			{ requiredValue: 0,		color: 'green',	description: '十分干燥。',				postText: ($player.penissize >= 2) ? "难以插入。" : ''},
			{ requiredValue: 15,	color: 'teal',	description: '润滑不足。',	postText: ''},
			{ requiredValue: 30,	color: 'lblue',	description: '只有些许润滑。',			postText: ''},
			{ requiredValue: 45,	color: 'blue',	description: '微湿。',			postText: ''},
			{ requiredValue: 60,	color: 'purple',description: '湿透了。',			postText: ''},
			{ requiredValue: 75,	color: 'pink',	description: '被爱液包裹。',		postText: ''},
			{ requiredValue: 90,	color: 'red',	description: '已经完全润滑。',	postText: ($player.penissize >= 4) ? "即使是你的尺寸，也能轻易插入任何地方。" : ''}
		]}>>
		<<characteristic-text _penisWetnessTextConfig>>
		<br>
	<</if>>
	<!--Anal Wetness-->
	<<if $analdisable is "f">>
		<<set _analWetnessTextConfig = { currentValue : $anusWetness, preText: '你的菊穴', states: _holeWetnessStates}>>
		<<characteristic-text _analWetnessTextConfig>>
	<</if>>

	<br><br>
	<<bodywriting>>
	<div id="characteristics-display">

		<br>
		<span class="gold">核心属性</span>
		<div id="base-characteristics" class="characteristic-box-list">
			<!--Core skill configurations-->
			<<silently>>

				<!--PURITY-->
				<<if $demon gte 6>>
					<<set _purityIcon='ui/sym_demon_purity'>>
				<<elseif $fallenangel gte 2>>
					<<set _purityIcon='ui/sym_fallen_purity'>>
				<<else>>
					<<set _purityIcon='ui/sym_purity'>>
				<</if>>
				<<set _purityConfig = { name : "纯洁 ", icon : _purityIcon, displayType : "level", currentValue : $purity, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue: 0,		level: 0, color: 'red',		description: '你的存在本身即是亵渎。'},
						{ requiredValue: 1,		level: 1, color: 'red',		description: '你的灵魂已经完全堕落。'},
						{ requiredValue: 500,	level: 2, color: 'pink',	description: '你的灵魂被亵渎了。'},
						{ requiredValue: 600,	level: 3, color: 'purple',	description: '你感到你的灵魂正在被侵蚀。'},
						{ requiredValue: 700,	level: 4, color: 'blue',	description: '你的灵魂被玷污了。'},
						{ requiredValue: 800,	level: 5, color: 'lblue',	description: '你觉得自己不再纯洁。'},
						{ requiredValue: 900,	level: 6, color: 'teal',	description: "你感觉自己并不完全纯洁。"},
						{ requiredValue: 1000,	level: 7, color: 'green',	description: '你如天使般圣洁。'}
					]
				}>>

				<!--AWARENESS-->
				<<set _awarenessConfig = { name : "性知识", icon : "ui/sym_awareness", displayType : "level", currentValue : $awareness, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue: -200,	level: 0, color: 'green',	description: '你单纯的像一张白纸。'},
						{ requiredValue: 1,		level: 1, color: 'teal',	description: '你对性几乎一无所知。'},
						{ requiredValue: 100,	level: 2, color: 'lblue',	description: '你对性的理解十分有限。'},
						{ requiredValue: 200,	level: 3, color: 'blue',	description: '你对性的理解与常人无异。'},
						{ requiredValue: 300,	level: 4, color: 'purple',	description: '你对暗黑性知识的了解超越了大部分人。'},
						{ requiredValue: 400,	level: 5, color: 'pink',	description: '你看到了常人无法辨识之物。'},
						{ requiredValue: 500,	level: 6, color: 'red',		description: '你凝视着堕落的深渊。'},
						{ requiredValue: 1000,	level: 7, color: 'red',		description: '你对性的理解已经超然于世。'}
					]
				}>>

				<!--PHYSIQUE-->
				<<set _physiqueConfig = { name : "体能 ", icon : "ui/sym_physique", displayType : "level", currentValue : $physique, maxValue: $physiquesize, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue:	0,							level: 0, color: 'red',		description: '你弱不禁风。'},
						{ requiredValue:	$physiquesize / 7,			level: 1, color: 'pink',	description: '你羸弱无力。'},
						{ requiredValue:	($physiquesize / 7) * 2,	level: 2, color: 'purple',	description: '你很瘦弱。'},
						{ requiredValue:	($physiquesize / 7) * 3,	level: 3, color: 'blue',	description: '你的身体十分单薄。'},
						{ requiredValue:	($physiquesize / 7) * 4,	level: 4, color: 'lblue',	description: '你的身型纤细但动作敏捷。'},
						{ requiredValue:	($physiquesize / 7) * 5,	level: 5, color: 'teal',	description: '你的身体开始有健美的轮廓。'},
						{ requiredValue:	($physiquesize / 7) * 6,	level: 6, color: 'green',	description: '你的身材健美且有力。'}
					]
				}>>
				<<if playerBellySize() gte 10 and playerNormalPregnancyTotal() lt 50>>
					<<switch playerNormalPregnancyTotal()>>
						<<case 0>><<set _pregnancyModifier to 36>>
						<<case 1>><<set _pregnancyModifier to 48>>
						<<case 2>><<set _pregnancyModifier to 60>>
						<<case 3 4 5>><<set _pregnancyModifier to 78>>
						<<case 6 7>><<set _pregnancyModifier to 96>>
						<<default>><<set _pregnancyModifier to 120>>
					<</switch>>
					<<set _physiqueConfig.modifier to Math.floor(_physiqueConfig.modifier * (1 - (playerBellySize() / _pregnancyModifier)))>>
					<<set _physiqueConfig.modTypes.bad.pushUnique(playerAwareTheyArePregnant() ? "怀孕" : "大肚子")>>
				<</if>>
				<<switch $location>>
					<<case "forest" "moor" "farm" "alex_farm">>
						<<if $worn.feet.type.includes("heels")>>
							<<set _physiqueConfig.modifier to Math.floor(_physiqueConfig.modifier * (1 - ($worn.feet.reveal / 5000)))>>
							<<set _physiqueConfig.modTypes.bad.pushUnique("高跟鞋")>>
						<</if>>
						<<if $worn.feet.type.includes("rugged")>>
							<<set _physiqueConfig.modifier to Math.floor(_physiqueConfig.modifier * (1 + ($feetskill / 10000)))>>
							<<set _physiqueConfig.modTypes.good.pushUnique("防滑鞋")>>
						<</if>>
				<</switch>>

				<!--WILLPOWER-->
				<<set _willpowerConfig = { name : "意志", icon : "ui/redbolt", displayType : "level", currentValue : $willpower, maxValue: $willpowermax, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue:	0,						level: 0, color: 'red',		description: '你胆小如鼠。'},
						{ requiredValue:	$willpowermax / 7,		level: 1, color: 'pink',	description: '你懦弱不堪。'},
						{ requiredValue:	($willpowermax / 7) * 2,	level: 2, color: 'purple',	description: '你优柔寡断。'},
						{ requiredValue:	($willpowermax / 7) * 3,	level: 3, color: 'blue',	description: '你沉着谨慎。'},
						{ requiredValue:	($willpowermax / 7) * 4,	level: 4, color: 'lblue',	description: '你意志顽强。'},
						{ requiredValue:	($willpowermax / 7) * 5,	level: 5, color: 'teal',	description: '你颇为坚韧。'},
						{ requiredValue:	($willpowermax / 7) * 6,	level: 6, color: 'green',	description: '你坚定如钢。'}
					]
				}>>
				<<if $parasite.left_ear.name is "slime" and $parasite.right_ear.name is "slime">>
					<<set _willpowerConfig.modifier to Math.floor(_willpowerConfig.modifier * 0.9)>>
					<<set _willpowerConfig.modTypes.bad.pushUnique("耳朵史莱姆")>>
				<</if>>

				<!--BEAUTY-->
				<<set _beautyConfig = { name : "容貌", icon : "ui/sym_beauty", displayType : "level", currentValue : $beauty, maxValue: $beautymax, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue:	0,						level: 0, color: 'red',		description: '你毫不起眼。'},
						{ requiredValue:	$beautymax / 7,			level: 1, color: 'pink',	description: '你有些可爱。'},
						{ requiredValue:	($beautymax / 7) * 2,	level: 2, color: 'purple',	description: '你十分清秀。'},
						{ requiredValue:	($beautymax / 7) * 3,	level: 3, color: 'blue',	description: '你魅力四射。'},
						{ requiredValue:	($beautymax / 7) * 4,	level: 4, color: 'lblue',	description: '你的容颜令人陶醉。'},
						{ requiredValue:	($beautymax / 7) * 5,	level: 5, color: 'teal',	description: '你的容貌倾国倾城。'},
						{ requiredValue:	($beautymax / 7) * 6,	level: 6, color: 'green',	description: '你的容貌惊为天人。'}
					]
				}>>

				<!--PROMISCUITY-->
				<<set _promiscuityConfig = { name : "淫乱度 ", icon : "ui/sym_promiscuity", displayType : "level", currentValue : $promiscuity, maxValue: 100, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue: 0,		level: 0, color: 'green',	description: '你清纯无知。'},
						{ requiredValue: 1,		level: 1, color: 'teal',	description: '你十分拘谨。'},
						{ requiredValue: 15,	level: 2, color: 'lblue',	description: '你对两性之事十分好奇。'},
						{ requiredValue: 35,	level: 3, color: 'blue',	description: '对性接触的幻想让你心神荡漾。'},
						{ requiredValue: 55,	level: 4, color: 'purple',	description: '你渴望着情色之事。'},
						{ requiredValue: 75,	level: 5, color: 'pink',	description: '你放荡而不知检点。'},
						{ requiredValue: 95,	level: 6, color: 'red',		description: '你无尽的色欲永远无法满足。'}
					]
				}>>

				<!--EXHIBITIONISM-->
				<<set _exhibitionismConfig = { name : "露出癖", icon : "ui/sym_exhibitionism", displayType : "level", currentValue : $exhibitionism, maxValue: 100, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue: 0,		level: 0, color: 'green',	description: '你十分腼腆。'},
						{ requiredValue: 1,		level: 1, color: 'teal',	description: '你有些羞涩。'},
						{ requiredValue: 15,	level: 2, color: 'lblue',	description: '你喜欢彰显自己的性感之处。'},
						{ requiredValue: 35,	level: 3, color: 'blue',	description: '你喜欢他人下流的注视。'},
						{ requiredValue: 55,	level: 4, color: 'purple',	description: '暴露的感觉让你兴奋不已。'},
						{ requiredValue: 75,	level: 5, color: 'pink',	description: '你已不知羞耻。'},
						{ requiredValue: 95,	level: 6, color: 'red',		description: '光是幻想一下暴露都会让你疯狂不已。'}
					]
				}>>

				<!--DEVIANCY-->
				<<set _deviancyConfig = { name : "异种癖 ", icon : "ui/sym_deviancy", displayType : "level", currentValue : $deviancy, maxValue: 100, modifier: 100, modTypes: { good: [], bad: [] },
					states : [
						{ requiredValue: 0,		level: 0, color: 'green',	description: '你过于拘谨。'},
						{ requiredValue: 1,		level: 1, color: 'teal',	description: '你很保守。'},
						{ requiredValue: 15,	level: 2, color: 'lblue',	description: '你有些奇怪的性幻想。'},
						{ requiredValue: 35,	level: 3, color: 'blue',	description: '你的性癖令人震惊。'},
						{ requiredValue: 55,	level: 4, color: 'purple',	description: '你的性癖为世人所不齿。'},
						{ requiredValue: 75,	level: 5, color: 'pink',	description: "你所喜爱的行为他人无法想象。"},
						{ requiredValue: 95,	level: 6, color: 'red',		description: '你贪欲着不可言说之物。'}
					]
				}>>

				<!-- MOOR LUCK, at the end so it appears at the end of the mouseover tooltip -->
				<<if $moorLuck gt 0>>
					<<set _physiqueConfig.modifier to Math.floor(_physiqueConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _physiqueConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _willpowerConfig.modifier to Math.floor(_willpowerConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _willpowerConfig.modTypes.good.pushUnique("<i>????</i>")>>
				<</if>>
			<</silently>>

			<<characteristic-box _purityConfig>>
			<<characteristic-box _beautyConfig>>
			<<characteristic-box _physiqueConfig>>
			<<characteristic-box _willpowerConfig>>
			<<characteristic-box _awarenessConfig>>
			<<characteristic-box _promiscuityConfig>>
			<<characteristic-box _exhibitionismConfig>>
			<<characteristic-box _deviancyConfig>>
		</div>

		<!--Common states for skills with grades-->
		<<silently>>
			<<set _basicSkillGrades=[
				{ requiredValue: 0,		level: "None",	color: 'red'},
				{ requiredValue: 1,		level: "F",		color: 'pink'},
				{ requiredValue: 200,	level: "D",		color: 'purple'},
				{ requiredValue: 400,	level: "C",		color: 'blue'},
				{ requiredValue: 600,	level: "B",		color: 'lblue'},
				{ requiredValue: 800,	level: "A",		color: 'teal'},
				{ requiredValue: 1000,	level: "S",		color: 'green'}
			]>>
			<<set _detailedSkillGrades=[
				{ requiredValue: 0,		level: "None",	color: 'red'},
				{ requiredValue: 1,		level: "F",		color: 'pink'},
				{ requiredValue: 100,	level: "F+",	color: 'pink'},
				{ requiredValue: 200,	level: "D",		color: 'purple'},
				{ requiredValue: 300,	level: "D+",	color: 'purple'},
				{ requiredValue: 400,	level: "C",		color: 'blue'},
				{ requiredValue: 500,	level: "C+",	color: 'blue'},
				{ requiredValue: 600,	level: "B",		color: 'lblue'},
				{ requiredValue: 700,	level: "B+",	color: 'lblue'},
				{ requiredValue: 800,	level: "A",		color: 'teal'},
				{ requiredValue: 900,	level: "A+",	color: 'teal'},
				{ requiredValue: 1000,	level: "S",		color: 'green'}
			]>>
		<</silently>>

		<br>
		<span class="gold">技能</span>
		<div id="base-skills" class="characteristic-box-list" @style="($parasite.left_ear.name == 'slime' || $parasite.right_ear.name == 'slime') ? '--min-width: 30%;' : ''">
			<!--Additional skills configurations-->
			<<silently>>
				<<set _corruptionConfig =	{ name : "堕落",	displayType : "none",	currentValue : $corruption_slime,	modifier: 100, modTypes: { good: [], bad: [] },		meterColor: 'red'}>>
				<<set _skulduggeryConfig =	{ name : "诡术", displayType : "grade",	currentValue : $skulduggery,		modifier: 100, modTypes: { good: [], bad: [] },		states : _detailedSkillGrades}>>
				<<set _dancingConfig =		{ name : "舞蹈",		displayType : "grade",	currentValue : $danceskill,			modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
				<<set _swimmingConfig =		{ name : "游泳",	displayType : "grade",	currentValue : $swimmingskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _detailedSkillGrades}>>
				<<set _athleticsConfig =	{ name : "运动",	displayType : "grade",	currentValue : $athletics,			modifier: 100, modTypes: { good: [], bad: [] },		states : _detailedSkillGrades}>>
				<<set _tendingConfig =		{ name : "护理",		displayType : "grade",	currentValue : $tending,			modifier: 100, modTypes: { good: [], bad: [] },		states : _detailedSkillGrades}>>
				<<set _housekeepingConfig =	{ name : "家务",displayType : "grade",	currentValue : $housekeeping,		modifier: 100, modTypes: { good: [], bad: [] },		states : _detailedSkillGrades}>>
				<<set _bellySize to playerBellySize()>>
				<<if _bellySize gte 10 and playerNormalPregnancyTotal() lt 50>>
					<<switch playerNormalPregnancyTotal()>>
						<<case 0>><<set _pregnancyModifier to 36>>
						<<case 1>><<set _pregnancyModifier to 48>>
						<<case 2>><<set _pregnancyModifier to 60>>
						<<case 3 4 5>><<set _pregnancyModifier to 78>>
						<<case 6 7>><<set _pregnancyModifier to 96>>
						<<default>><<set _pregnancyModifier to 120>>
					<</switch>>
					<<set _dancingConfig.modifier to Math.floor(_dancingConfig.modifier * (1 - (_bellySize / _pregnancyModifier)))>>
					<<set _dancingConfig.modTypes.bad.pushUnique(playerAwareTheyArePregnant() ? "怀孕" : "大肚子")>>
					<<set _swimmingConfig.modifier to Math.floor(_swimmingConfig.modifier * (1 - (_bellySize / _pregnancyModifier)))>>
					<<set _swimmingConfig.modTypes.bad.pushUnique(playerAwareTheyArePregnant() ? "怀孕" : "大肚子")>>
					<<set _athleticsConfig.modifier to Math.floor(_athleticsConfig.modifier * (1 - (_bellySize / _pregnancyModifier)))>>
					<<set _athleticsConfig.modTypes.bad.pushUnique(playerAwareTheyArePregnant() ? "怀孕" : "大肚子")>>
				<</if>>
				<<if $worn.hands.type.includes("sticky_fingers")>>
					<<set _skulduggeryConfig.modifier to Math.floor(_skulduggeryConfig.modifier * 1.05)>>
					<<set _skulduggeryConfig.modTypes.good.pushUnique("助偷手套")>>
				<</if>>
				<<if $transformationParts.traits.sharpEyes isnot "disabled">>
					<<set _skulduggeryConfig.modifier to Math.floor(_skulduggeryConfig.modifier * 1.05)>>
					<<set _skulduggeryConfig.modTypes.good.pushUnique("锐利的眼神")>>
				<</if>>
				<<if $fox gte 6>>
					<<set _skulduggeryConfig.modifier to Math.floor(_skulduggeryConfig.modifier * 1.10)>>
					<<set _skulduggeryConfig.modTypes.good.pushUnique("狐化")>>					
				<</if>>
				<<if $worn.under_upper.type.includesAny("dance", "naked") and $worn.under_lower.type.includesAny("dance", "naked")
				and $worn.upper.type.includesAny("dance", "naked")and $worn.lower.type.includesAny("dance", "naked")>>
					<<set _dancingConfig.modifier to Math.floor(_dancingConfig.modifier * 1.05)>>
					<<if [$worn.under_upper.type, $worn.under_lower.type, $worn.upper.type, $worn.lower.type].flat().includes("dance")>>
						<<set _dancingConfig.modTypes.good.pushUnique("舞蹈服")>>
					<<else>>
						<<set _dancingConfig.modTypes.good.pushUnique("裸体")>>
					<</if>>
				<</if>>
				<<if $worn.under_upper.type.includesAny("swim", "naked") and $worn.under_lower.type.includesAny("swim", "naked")
				and $worn.upper.type.includesAny("swim", "naked") and $worn.lower.type.includesAny("swim", "naked")>>
					<<set _swimmingConfig.modifier to Math.floor(_swimmingConfig.modifier * 1.05)>>
					<<if $worn.under_upper.type.includes("swim") or $worn.under_lower.type.includes("swim")
					or $worn.upper.type.includes("swim") or $worn.lower.type.includes("swim")>>
						<<set _swimmingConfig.modTypes.good.pushUnique("泳装")>>
					<<else>>
						<<set _swimmingConfig.modTypes.good.pushUnique("裸体")>>
					<</if>>
				<</if>>
				<<if $worn.feet.type.includes("swim")>>
					<<set _swimmingConfig.modifier to Math.floor(_swimmingConfig.modifier * (1 + ($feetskill / 10000)))>>
					<<set _swimmingConfig.modTypes.good.pushUnique("脚蹼")>>
				<<elseif !$worn.feet.type.includes("naked")>>
					<<if $worn.feet.type.includes("heels")>>
						<<set _heels to 0.1>>
						<<set _swimmingConfig.modTypes.bad.pushUnique("高跟鞋")>>
					<<else>>
						<<set _heels to 0>>
						<<set _swimmingConfig.modTypes.bad.pushUnique("鞋子")>>
					<</if>>
					<<set _swimmingConfig.modifier to Math.floor(_swimmingConfig.modifier * (0.9 + ($feetskill / 10000) - _heels))>>
				<</if>>
				<<switch $location>>
					<<case "forest" "moor" "farm" "alex_farm">>
						<<if $worn.feet.type.includes("heels")>>
							<<set _athleticsConfig.modifier to Math.floor(_athleticsConfig.modifier * (1 - ($worn.feet.reveal / 5000)))>>
							<<set _athleticsConfig.modTypes.bad.pushUnique("高跟鞋")>>
						<</if>>
						<<if $worn.feet.type.includes("rugged")>>
							<<set _athleticsConfig.modifier to Math.floor(_athleticsConfig.modifier * (1 + ($feetskill / 10000)))>>
							<<set _athleticsConfig.modTypes.good.pushUnique("防滑鞋")>>
						<</if>>
				<</switch>>
				<<if $worn.feet.type.includes("shackle")>>
					<<set _athleticsConfig.modifier to 0>>
					<<set _athleticsConfig.modTypes.bad.pushUnique("<b>被束缚</b>")>>
					<<set _swimmingConfig.modifier to Math.floor(_swimmingConfig.modifier * 0.5)>>
					<<run _swimmingConfig.modTypes.bad.delete("heels","shoes")>>
					<<set _swimmingConfig.modTypes.bad.pushUnique("<b>被束缚</b>")>>
					<<set _dancingConfig.modifier to Math.floor(_dancingConfig.modifier * 0.5)>>
					<<set _dancingConfig.modTypes.bad.pushUnique("<b>被束缚</b>")>>
				<</if>>
				<<if $backgroundTraits.includes("plantlover")>>
					<<set _tendingConfig.modifier to Math.floor(_tendingConfig.modifier * (1 + ($trauma / ($traumamax * 2))))>>
					<<if $submissive lte 850>>
						<<set _tendingConfig.modTypes.good.pushUnique("植物学家")>>
					<<else>>
						<<set _tendingConfig.modTypes.good.pushUnique("植物爱好者")>>
					<</if>>
				<</if>>
				<<if $worn.upper.type.includes("maid")>>
					<<set _housekeepingConfig.modifier to Math.floor(_housekeepingConfig.modifier * 1.05)>>
					<<set _housekeepingConfig.modTypes.good.pushUnique("服务装")>>
				<</if>>
				<<if $worn.lower.type.includes("maid")>>
					<<set _housekeepingConfig.modifier to Math.floor(_housekeepingConfig.modifier * 1.05)>>
					<<set _housekeepingConfig.modTypes.good.pushUnique("服务装")>>
				<</if>>
				<<if $worn.head.type.includes("maid")>>
					<<set _housekeepingConfig.modifier to Math.floor(_housekeepingConfig.modifier * 1.05)>>
					<<set _housekeepingConfig.modTypes.good.pushUnique("服务装")>>
				<</if>>
				<<if $moorLuck gt 0>>
					<<set _skulduggeryConfig.modifier to Math.floor(_skulduggeryConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _skulduggeryConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _dancingConfig.modifier to Math.floor(_dancingConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _dancingConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _swimmingConfig.modifier to Math.floor(_swimmingConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _swimmingConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _athleticsConfig.modifier to Math.floor(_athleticsConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _athleticsConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _tendingConfig.modifier to Math.floor(_tendingConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _tendingConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _housekeepingConfig.modifier to Math.floor(_housekeepingConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _housekeepingConfig.modTypes.good.pushUnique("<i>????</i>")>>
				<</if>>
			<</silently>>

			<<if $parasite.left_ear.name is "slime" or $parasite.right_ear.name is "slime">>
				<<characteristic-box _corruptionConfig>>
			<</if>>
			<<characteristic-box _skulduggeryConfig>>
			<<characteristic-box _dancingConfig>>
			<<characteristic-box _swimmingConfig>>
			<<characteristic-box _athleticsConfig>>
			<<characteristic-box _tendingConfig>>
			<<characteristic-box _housekeepingConfig>>
		</div>

		<br>
		<span class="gold">性技能</span>
		<!--Sex skills configurations-->
		<<silently>>
			<<set _seductionConfig =	{ name : "魅惑",	displayType : "grade",	currentValue : $seductionskill, modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _oralConfig =			{ name : "口部",		displayType : "grade",	currentValue : $oralskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _chestConfig =		{ name : "胸部",		displayType : "grade",	currentValue : $chestskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _handsConfig =		{ name : "手部",		displayType : "grade",	currentValue : $handskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _buttocksConfig =		{ name : "臀部",	displayType : "grade",	currentValue : $bottomskill,	modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _analConfig =			{ name : "后庭",		displayType : "grade",	currentValue : $analskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _thighsConfig =		{ name : "腿部",		displayType : "grade",	currentValue : $thighskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<set _feetConfig =			{ name : "足部",		displayType : "grade",	currentValue : $feetskill,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<<if $player.penisExist>>
				<<set _penileConfig =	{ name : "阴茎",		displayType : "grade",	currentValue : $penileskill,	modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<</if>>
			<<if playerHasStrapon()>>
				<<set _penileConfig =	{ name : "穿戴式假阳具",displayType : "grade",	currentValue : $penileskill,	modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<</if>>
			<<if $player.vaginaExist>>
				<<set _vaginalConfig =	{ name : "小穴",		displayType : "grade",	currentValue : $vaginalskill,	modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<</if>>
		<</silently>>
		<<if $options.images is 1>>
			<div id="player-body">
				<<player-base-body>>
			</div>
			<div id="sex-diagram">

				<div class="characteristic-box-list left-column">
					<div class="sex-diagram-box">
						<<characteristic-box _seductionConfig>>
						<div class="connector-box"></div>
					</div>
					<div class="sex-diagram-box">
						<<characteristic-box _chestConfig>>
						<<connector-box 52 35 10>>
					</div>
					<div class="sex-diagram-box">
						<<characteristic-box _buttocksConfig>>
						<<connector-box 37 50 20>>
					</div>
					<<if $player.vaginaExist>>
						<div class="sex-diagram-box">
							<<characteristic-box _vaginalConfig>>
							<<connector-box 0 50 3>>
						</div>
						<div class="sex-diagram-box">
							<<characteristic-box _thighsConfig>>
							<<connector-box 37 35 10 true>>
						</div>
					<<else>>
						<div class="sex-diagram-box">
							<<characteristic-box _thighsConfig>>
							<<connector-box 0 35 10>>
						</div>
					<</if>>
				</div>
				<div class="characteristic-box-list right-column">
					<div class="sex-diagram-box">
						<<connector-box 71 35 3>>
						<<characteristic-box _oralConfig>>
					</div>
					<div class="sex-diagram-box">
						<<connector-box 74 50 15>>
						<<characteristic-box _handsConfig>>
					</div>
					<<if $player.penisExist or playerHasStrapon()>>
						<div class="sex-diagram-box">
							<<connector-box 36 65 2>>
							<<characteristic-box _penileConfig>>
						</div>
						<div class="sex-diagram-box">
							<<connector-box 2 50 12 true>>
							<<characteristic-box _analConfig>>
						</div>
						<div class="sex-diagram-box">
							<<connector-box 0 50 14>>
							<<characteristic-box _feetConfig>>
						</div>
					<<else>>
						<div class="sex-diagram-box">
							<<connector-box 39 65 12>>
							<<characteristic-box _analConfig>>
						</div>
						<div class="sex-diagram-box">
							<<connector-box 45 80 15>>
							<<characteristic-box _feetConfig>>
						</div>
					<</if>>
				</div>
			</div>
		<<else>>
			<div id="sex-skills" class="characteristic-box-list">
				<<characteristic-box _seductionConfig>>
				<<characteristic-box _oralConfig>>
				<<if $player.vaginaExist>>
					<<characteristic-box _vaginalConfig>>
				<</if>>
				<<if $player.penisExist>>
					<<characteristic-box _penileConfig>>
				<</if>>
				<<if playerHasStrapon()>>
					<<characteristic-box _penileConfig>>
				<</if>>
				<<characteristic-box _analConfig>>
				<<characteristic-box _handsConfig>>
				<<characteristic-box _feetConfig>>
				<<characteristic-box _thighsConfig>>
				<<characteristic-box _buttocksConfig>>
				<<characteristic-box _chestConfig>>
			</div>
		<</if>>

		<br>
		<span class="gold">学校成绩</span>
		<div id="school-grades" class="characteristic-box-list">
			<!--School grade configurations-->
			<<silently>>
				<<set _schoolGradeStates= [
					{ requiredValue: -1,	level: 'F',		color: 'red'},
					{ requiredValue: 0,		level: 'D',		color: 'purple'},
					{ requiredValue: 1,		level: 'C',		color: 'blue'},
					{ requiredValue: 2,		level: 'B',		color: 'lblue'},
					{ requiredValue: 3,		level: 'A',		color: 'teal'},
					{ requiredValue: 4,		level: 'A*',	color: 'green'}
				]>>

				<<set _scienceConfig =	{ name : '科学', icon : 'misc/icon/science', displayType : "grade",	currentValue : $sciencetrait,	modifier: 100, modTypes: { good: [], bad: [] },	percent: $science_exam,		showStars: true, starLevel: $science_star,	states : _schoolGradeStates}>>
				<<set _mathsConfig =	{ name : '数学',	icon : 'misc/icon/math',	displayType : "grade",	currentValue : $mathstrait,		modifier: 100, modTypes: { good: [], bad: [] },	percent: $maths_exam,		showStars: true, starLevel: $maths_star,	states : _schoolGradeStates}>>
				<<set _englishConfig =	{ name : '英语', icon : 'misc/icon/english', displayType : "grade",	currentValue : $englishtrait,	modifier: 100, modTypes: { good: [], bad: [] },	percent: $english_exam,		showStars: true, starLevel: $english_star,	states : _schoolGradeStates}>>
				<<set _historyConfig =	{ name : '历史', icon : 'misc/icon/history', displayType : "grade",	currentValue : $historytrait,	modifier: 100, modTypes: { good: [], bad: [] },	percent: $history_exam,		showStars: true, starLevel: $history_star,	states : _schoolGradeStates}>>
				<<if $moorLuck gt 0>>
					<<set _scienceConfig.modifier to Math.floor(_scienceConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _scienceConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _mathsConfig.modifier to Math.floor(_mathsConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _mathsConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _englishConfig.modifier to Math.floor(_englishConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _englishConfig.modTypes.good.pushUnique("<i>????</i>")>>
					<<set _historyConfig.modifier to Math.floor(_historyConfig.modifier * (1 + ($moorLuck / 100)))>>
					<<set _historyConfig.modTypes.good.pushUnique("<i>????</i>")>>
				<</if>>
			<</silently>>

			<<characteristic-box _scienceConfig>>
			<<characteristic-box _mathsConfig>>
			<<characteristic-box _englishConfig>>
			<<characteristic-box _historyConfig>>
		</div>
		<div class="characteristic-box-extras">
			<<set _schoolPerformanceConfig = { currentValue : $school, preText: '你的学习成绩', modifier: 100, modTypes: { good: [], bad: [] }, states : [
					{ requiredValue: 0,		color: 'red',		description: '无可救药。'},
					{ requiredValue: 1,		color: 'pink',		description: '颇为糟糕。'},
					{ requiredValue: 400,	color: 'purple',	description: '差强人意。'},
					{ requiredValue: 800,	color: 'blue',		description: '中规中矩。'},
					{ requiredValue: 1600,	color: 'lblue',		description: '还算良好。'},
					{ requiredValue: 2800,	color: 'teal',		description: '十分优秀。'},
					{ requiredValue: 4000,	color: 'green',		description: '首屈一指。'}
				]
			}>>
			<<characteristic-text _schoolPerformanceConfig>>
			<br>
		</div>

		<br>
		<span class="gold">武器技能</span>
		<div id="prof" class="characteristic-box-list">
			<<silently>>
				<<set _sprayConfig =		{ name : "防狼喷雾",		displayType : "grade",	currentValue : $prof.spray,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
				<<set _netConfig =			{ name : "网",		displayType : "grade",	currentValue : $prof.net,		modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
				<<set _hiddenConfig =		{ name : "<i>????</i>",	displayType : "grade",	currentValue : 0,				modifier: 100, modTypes: { good: [], bad: [] },		states : _basicSkillGrades}>>
			<</silently>>
			<<characteristic-box _sprayConfig>>
			<<if $prof.net isnot undefined>>
				<<characteristic-box _netConfig>>
			<<else>>
				<<characteristic-box _hiddenConfig>>
			<</if>>
			/*
			<<if $prof.pickaxe isnot undefined>>
				<<characteristic-box _pickaxeConfig>>
			<<else>>
				<<characteristic-box _hiddenConfig>>
			<</if>>*/
		</div>
	</div>

	<br>
	<span class="gold">不安感</span>
	<div class="description">随着不安感的上升，你将越来越耻于承受别人的目光，这会造成更多的压力并减少自控。但一旦你习惯了它，这种影响将会被消除。</div>
	<br><br>
	<<if $insecurity_penis_tiny gte 1 and $player.penissize lte 0 and $acceptance_penis_tiny lte 999>>
		<span class="red">不安感: 迷你阴茎</span>
		<div class="meter">
			<<set _percent=Math.floor(($insecurity_penis_tiny/1000)*100)>>
			<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
		</div>
		<<if $acceptance_penis_tiny gte 1 and $acceptance_penis_tiny lte 999 and $player.penissize lte 0>>
			<span class="green">已接受: 迷你阴茎</span>
			<div class="meter">
				<<set _percent=Math.floor(($acceptance_penis_tiny/1000)*100)>>
				<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
			</div>
		<</if>>
	<</if>>
	<<if $insecurity_penis_small gte 1 and $player.penissize is 1 and $acceptance_penis_small lte 999>>
		<span class="red">不安感: 小阴茎</span>
		<div class="meter">
			<<set _percent=Math.floor(($insecurity_penis_small/1000)*100)>>
			<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
		</div>
		<<if $acceptance_penis_small gte 1 and $acceptance_penis_small lte 999 and $player.penissize is 1>>
			<span class="green">已接受: 小阴茎</span>
			<div class="meter">
				<<set _percent=Math.floor(($acceptance_penis_small/1000)*100)>>
				<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
			</div>
		<</if>>
	<</if>>
	<<if $player.gender is "m">>
		<<if $insecurity_penis_big gte 1 and $player.penissize gte 4 and $acceptance_penis_big lte 999>>
			<span class="red">不安感: 巨型阴茎</span>
			<div class="meter">
				<<set _percent=Math.floor(($insecurity_penis_big/1000)*100)>>
				<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
			</div>
			<<if $acceptance_penis_big gte 1 and $acceptance_penis_big lte 999 and $player.penissize gte 4>>
				<span class="green">已接受: 大阴茎</span>
				<div class="meter">
					<<set _percent=Math.floor(($acceptance_penis_big/1000)*100)>>
					<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
				</div>
			<</if>>
		<</if>>
	<<else>>
		<<if $insecurity_penis_big gte 1 and $player.penissize gte 2 and $acceptance_penis_big lte 999>>
			<span class="red">不安感: 巨型阴茎</span>
			<div class="meter">
				<<set _percent=Math.floor(($insecurity_penis_big/1000)*100)>>
				<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
			</div>
			<<if $acceptance_penis_big gte 1 and $acceptance_penis_big lte 999 and $player.penissize gte 2>>
				<span class="green">已接受: 大阴茎</span>
				<div class="meter">
					<<set _percent=Math.floor(($acceptance_penis_big/1000)*100)>>
					<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
				</div>
			<</if>>
		<</if>>
	<</if>>
	<<if $insecurity_breasts_tiny gte 1 and $player.breastsize lte 0 and $player.gender is "f" and $acceptance_breasts_tiny lte 999>>
		<span class="red">不安感: 平胸</span>
		<div class="meter">
			<<set _percent=Math.floor(($insecurity_breasts_tiny/1000)*100)>>
			<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
		</div>
		<<if $acceptance_breasts_tiny gte 1 and $acceptance_breasts_tiny lte 999 and $player.breastsize lte 0 and $player.gender is "f">>
			<span class="green">已接受: 飞机场</span>
			<div class="meter">
				<<set _percent=Math.floor(($acceptance_breasts_tiny/1000)*100)>>
				<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
			</div>
		<</if>>
	<</if>>
	<<if $insecurity_breasts_small gte 1 and $player.breastsize gte 1 and $player.breastsize lte 5 and $acceptance_breasts_small lte 999>>
		<span class="red">不安感: 贫乳</span>
		<div class="meter">
			<<set _percent=Math.floor(($insecurity_breasts_small/1000)*100)>>
			<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
		</div>
		<<if $acceptance_breasts_small gte 1 and $acceptance_breasts_small lte 999 and $player.breastsize gte 1 and $player.breastsize lte 5>>
			<span class="green">已接受: 贫乳</span>
			<div class="meter">
				<<set _percent=Math.floor(($acceptance_breasts_small/1000)*100)>>
				<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
			</div>
		<</if>>
	<</if>>
	<<if $player.gender is "f">>
		<<if $insecurity_breasts_big gte 1 and $player.breastsize gte 8 and $acceptance_breasts_big lte 999>>
		<span class="red">不安感: 豪乳</span>
			<div class="meter">
				<<set _percent=Math.floor(($insecurity_breasts_big/1000)*100)>>
				<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
			</div>
			<<if $acceptance_breasts_big gte 1 and $acceptance_breasts_big lte 999 and $player.breastsize gte 8>>
				<span class="green">已接受: 巨乳</span>
				<div class="meter">
					<<set _percent=Math.floor(($acceptance_breasts_big/1000)*100)>>
					<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
				</div>
			<</if>>
		<</if>>
	<<else>>
		<<if $insecurity_breasts_big gte 1 and $player.breastsize gte 6 and $acceptance_breasts_big lte 999>>
			<span class="red">不安感: 豪乳</span>
			<div class="meter">
				<<set _percent=Math.floor(($insecurity_breasts_big/1000)*100)>>
				<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
			</div>
			<<if $acceptance_breasts_big gte 1 and $acceptance_breasts_big lte 999 and $player.breastsize gte 6>>
				<span class="green">已接受: 巨乳</span>
				<div class="meter">
					<<set _percent=Math.floor(($acceptance_breasts_big/1000)*100)>>
					<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
				</div>
			<</if>>
		<</if>>
	<</if>>
	<<if $insecurity_pregnancy gte 1 and $acceptance_pregnancy lte 999 and playerBellySize() gte 8>>
		<<set $_bellyText to (playerAwareTheyArePregnant() ? "Pregnant Belly" : "Pregnant Looking Belly")>>
		<span class="red">不安感: <<print $_bellyText>></span>
		<div class="meter">
			<<set _percent=Math.floor(($insecurity_pregnancy/1000)*100)>>
			<<print '<div class="redbar" style="width:' + _percent + '%"></div>'>>
		</div>
		<<if between($acceptance_pregnancy, 1, 999)>>
			<span class="green">已接受: <<print $_bellyText>></span>
			<div class="meter">
				<<set _percent=Math.floor(($acceptance_pregnancy/1000)*100)>>
				<<print '<div class="greenbar" style="width:' + _percent + '%"></div>'>>
			</div>
		<</if>>
	<</if>>

	<br>
<</widget>>
